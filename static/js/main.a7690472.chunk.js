(this["webpackJsonppixel-maker"]=this["webpackJsonppixel-maker"]||[]).push([[0],{108:function(e,t,n){e.exports=n(306)},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(39),r=n.n(i),l=(n(113),n(62)),c=n(106),s=n(15),u=n(16),h=n(17),d=n(18),m=n(19);n(114),n(115);function g(e){var t={background:e.bgColor};return o.a.createElement("div",{className:"tile",onMouseEnter:e.onMouseEnter,onMouseDown:e.onMouseDown,style:t,value:e.value})}function v(e){var t=e.grid,n=e.onMouseUp,a=e.onMouseDown,i=e.changeColor,r=e.clickColor;return o.a.createElement("div",{onMouseUp:n,onMouseDown:a},t.map((function(e,t){return o.a.createElement("div",{className:"row",key:"row"+t},e.map((function(e,n){return o.a.createElement(g,{onMouseEnter:i,bgColor:e,onMouseDown:r,key:"tile".concat(t).concat(n),value:"".concat(t," ").concat(n)})})))})))}var b=n(107),f=n(103),k=n.n(f),C=n(104),p=n(20),E=n(21),w=(n(301),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={background:"#333333",showPalette:!1},a.togglePalette=a.togglePalette.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"changeColor",value:function(e){this.setState({background:e.hex,showPalette:!1}),this.props.getColor(e.hex)}},{key:"togglePalette",value:function(e){this.setState({showPalette:!this.state.showPalette})}},{key:"render",value:function(){var e={background:this.state.background},t=this.props,n=t.newArt,a=t.clearGrid,i=t.isUndo,r=t.handleUndo,l=t.isRedo,c=t.handleRedo,s=t.saveImage;return o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{title:"New Art",onClick:n},o.a.createElement(p.a,{icon:E.c})),o.a.createElement("div",{className:"color-change"},o.a.createElement("div",{className:"color-palette"},this.state.showPalette&&o.a.createElement(k.a,{onOutsideClick:this.togglePalette},o.a.createElement(C.CompactPicker,{color:this.state.background,onChange:this.changeColor.bind(this)}))),o.a.createElement("button",{title:"Change Color",onClick:this.togglePalette},o.a.createElement("div",{className:"color",style:e}))),o.a.createElement("button",{title:"Clear Grid",onClick:a},o.a.createElement(p.a,{icon:E.b})),o.a.createElement("button",{title:"Undo",onClick:r,disabled:i},o.a.createElement(p.a,{icon:E.e})),o.a.createElement("button",{title:"Redo",onClick:c,disabled:l},o.a.createElement(p.a,{icon:E.d})),o.a.createElement("button",{title:"Download to your Computer",onClick:s},o.a.createElement(p.a,{icon:E.a})))}}]),n}(o.a.Component));n(302);function y(e){var t=e.name,n=e.changeName,a=Object(b.a)(e,["name","changeName"]);return o.a.createElement("div",{className:"control-container"},o.a.createElement(w,a),o.a.createElement("div",{className:"name-container"},o.a.createElement("input",{type:"text",value:t,onChange:n})))}n(303);var S=document.body,M=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).element=document.createElement("div"),a.element.className="modal",a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){S.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){S.removeChild(this.element)}},{key:"render",value:function(){return Object(i.createPortal)(this.props.children,this.element)}}]),n}(o.a.Component);function O(e){return o.a.createElement(M,null,o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content"},e.children)))}n(304);function j(e){var t=e.numberTiles,n=e.onChange,a=e.confirmClick,i=e.cancelClick;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Choose number of tiles:"),o.a.createElement("select",{value:t,onChange:n},o.a.createElement("option",{value:"0"},"Choose..."),o.a.createElement("option",{value:"8"},"8x8"),o.a.createElement("option",{value:"16"},"16x16"),o.a.createElement("option",{value:"24"},"24x24"),o.a.createElement("option",{value:"32"},"32x32")),o.a.createElement("br",null),o.a.createElement("button",{onClick:a,disabled:0===t},"Apply"),o.a.createElement("button",{onClick:i},"Cancel"))}var N=n(105),U=n.n(N);var D=function(e,t){var n=function(e,t){return e.concat(t)},a=e.length,o=e.reduce(n).map((function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16),255]})).reduce(n),i=document.createElement("canvas");i.width=i.height=a;var r=i.getContext("2d"),l=new ImageData(Uint8ClampedArray.from(o),a,a);r.putImageData(l,0,0),i.toBlob((function(e){return U()(e,t+".png")}),"image/png")};var I=function(e,t){return Array(e).fill(Array(e).fill(t))};function P(e,t){var n=e.pop();t.push(n)}function x(e,t,n){0!==n.length&&(n.length=0),20===t.length&&t.shift(),t.push(e)}n(305);var T=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).grid=[],a.state={currentColor:"#333333",numberTiles:0,showModal:!0,name:"Untitled",grid:a.grid},a.undoStack=[],a.redoStack=[],a.down=!1,a.changeColor=a.changeColor.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"getColor",value:function(e){this.setState({currentColor:e})}},{key:"clearGrid",value:function(){x(this.grid,this.undoStack,this.redoStack),this.setState({grid:this.grid})}},{key:"changeColor",value:function(e){var t=e.target.getAttribute("value").split(" "),n=Object(c.a)(t,2),a=n[0],o=n[1];a=parseInt(a),o=parseInt(o);var i=Object(l.a)(this.state.grid),r=Object(l.a)(i[a]);r[o]=this.state.currentColor,i[a]=r,this.setState({grid:i})}},{key:"saveImageEvent",value:function(){var e=this.state,t=e.grid,n=e.name;D(t,n)}},{key:"mouseDown",value:function(e){e.preventDefault(),this.down=!0}},{key:"mouseUp",value:function(e){e.preventDefault(),this.down=!1,x(this.state.grid,this.undoStack,this.redoStack),this.setState({})}},{key:"changeTileColor",value:function(e){this.down&&this.changeColor(e)}},{key:"clickTileColor",value:function(e){this.changeColor(e)}},{key:"handleChange",value:function(e){this.setState({numberTiles:parseInt(e.target.value)})}},{key:"showModal",value:function(){this.setState({showModal:!0})}},{key:"confirmClick",value:function(){this.grid=I(this.state.numberTiles,"#ffffff"),this.undoStack.push(this.grid),this.setState({grid:this.grid,showModal:!1,name:"Untitled"})}},{key:"cancelClick",value:function(){this.setState({showModal:!1})}},{key:"changeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleUndo",value:function(){var e,t,n=(e=this.undoStack,t=this.redoStack,P(e,t),e[e.length-1]);this.setState({grid:n})}},{key:"handleRedo",value:function(){var e,t=(e=this.undoStack,P(this.redoStack,e),e[e.length-1]);this.setState({grid:t})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.showModal&&o.a.createElement(O,null,o.a.createElement(j,{numberTiles:this.state.numberTiles,onChange:this.handleChange.bind(this),confirmClick:this.confirmClick.bind(this),cancelClick:this.cancelClick.bind(this)})),o.a.createElement("div",{className:"grid-container"},o.a.createElement(v,{grid:this.state.grid,onMouseDown:this.mouseDown.bind(this),onMouseUp:this.mouseUp.bind(this),changeColor:this.changeTileColor.bind(this),clickColor:this.clickTileColor.bind(this)})),o.a.createElement(y,{newArt:this.showModal.bind(this),currentColor:this.state.currentColor,getColor:this.getColor.bind(this),clearGrid:this.clearGrid.bind(this),isUndo:this.undoStack.length<2,handleUndo:this.handleUndo.bind(this),isRedo:0===this.redoStack.length,handleRedo:this.handleRedo.bind(this),saveImage:this.saveImageEvent.bind(this),changeName:this.changeName.bind(this),name:this.state.name}))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.a7690472.chunk.js.map